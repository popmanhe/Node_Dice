{"version":3,"sources":["../../../src/public/js/respond.js"],"names":["w","matchMedia","doc","undefined","bool","docElem","documentElement","refNode","firstElementChild","firstChild","fakeBody","createElement","div","id","style","cssText","background","appendChild","q","innerHTML","insertBefore","offsetWidth","removeChild","matches","media","document","respond","update","requestQueue","xmlHttp","xmlhttpmethod","XMLHttpRequest","e","ActiveXObject","ajax","url","callback","req","open","onreadystatechange","readyState","status","responseText","send","queue","regex","keyframes","urls","findStyles","only","minw","maxw","mediaQueriesSupported","mediastyles","rules","appendedEls","parsedSheets","resizeThrottle","head","getElementsByTagName","base","links","lastCall","resizeDefer","eminpx","getEmValue","ret","body","originalHTMLFontSize","fontSize","originalBodyFontSize","fakeUsed","parseFloat","applyMedia","fromResize","name","docElemProp","currWidth","compatMode","styleBlocks","lastLink","length","now","Date","getTime","clearTimeout","setTimeout","i","hasOwnProperty","thisstyle","min","max","minnull","maxnull","em","indexOf","hasquery","push","j","parentNode","k","ss","css","join","type","nextSibling","styleSheet","createTextNode","translate","styles","href","qs","replace","match","ql","substring","lastIndexOf","repUrls","useMedia","fullq","thisq","eachq","eql","RegExp","$1","$2","split","makeRequests","thisRequest","shift","ripCSS","sheet","isCSS","rel","toLowerCase","rawCssText","test","location","host","protocol","callMedia","addEventListener","attachEvent"],"mappings":"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","file":"respond.js","sourcesContent":["/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */\r\n/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */\r\n(function(w) {\r\n  \"use strict\";\r\n  w.matchMedia = w.matchMedia || function(doc, undefined) {\r\n    var bool, docElem = doc.documentElement, refNode = docElem.firstElementChild || docElem.firstChild, fakeBody = doc.createElement(\"body\"), div = doc.createElement(\"div\");\r\n    div.id = \"mq-test-1\";\r\n    div.style.cssText = \"position:absolute;top:-100em\";\r\n    fakeBody.style.background = \"none\";\r\n    fakeBody.appendChild(div);\r\n    return function(q) {\r\n      div.innerHTML = '&shy;<style media=\"' + q + '\"> #mq-test-1 { width: 42px; }</style>';\r\n      docElem.insertBefore(fakeBody, refNode);\r\n      bool = div.offsetWidth === 42;\r\n      docElem.removeChild(fakeBody);\r\n      return {\r\n        matches: bool,\r\n        media: q\r\n      };\r\n    };\r\n  }(w.document);\r\n})(this);\r\n\r\n/*! Respond.js v1.4.0: min/max-width media query polyfill. (c) Scott Jehl. MIT Lic. j.mp/respondjs  */\r\n(function(w) {\r\n  \"use strict\";\r\n  var respond = {};\r\n  w.respond = respond;\r\n  respond.update = function() {};\r\n  var requestQueue = [], xmlHttp = function() {\r\n    var xmlhttpmethod = false;\r\n    try {\r\n      xmlhttpmethod = new w.XMLHttpRequest();\r\n    } catch (e) {\r\n      xmlhttpmethod = new w.ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    }\r\n    return function() {\r\n      return xmlhttpmethod;\r\n    };\r\n  }(), ajax = function(url, callback) {\r\n    var req = xmlHttp();\r\n    if (!req) {\r\n      return;\r\n    }\r\n    req.open(\"GET\", url, true);\r\n    req.onreadystatechange = function() {\r\n      if (req.readyState !== 4 || req.status !== 200 && req.status !== 304) {\r\n        return;\r\n      }\r\n      callback(req.responseText);\r\n    };\r\n    if (req.readyState === 4) {\r\n      return;\r\n    }\r\n    req.send(null);\r\n  };\r\n  respond.ajax = ajax;\r\n  respond.queue = requestQueue;\r\n  respond.regex = {\r\n    media: /@media[^\\{]+\\{([^\\{\\}]*\\{[^\\}\\{]*\\})+/gi,\r\n    keyframes: /@(?:\\-(?:o|moz|webkit)\\-)?keyframes[^\\{]+\\{(?:[^\\{\\}]*\\{[^\\}\\{]*\\})+[^\\}]*\\}/gi,\r\n    urls: /(url\\()['\"]?([^\\/\\)'\"][^:\\)'\"]+)['\"]?(\\))/g,\r\n    findStyles: /@media *([^\\{]+)\\{([\\S\\s]+?)$/,\r\n    only: /(only\\s+)?([a-zA-Z]+)\\s?/,\r\n    minw: /\\([\\s]*min\\-width\\s*:[\\s]*([\\s]*[0-9\\.]+)(px|em)[\\s]*\\)/,\r\n    maxw: /\\([\\s]*max\\-width\\s*:[\\s]*([\\s]*[0-9\\.]+)(px|em)[\\s]*\\)/\r\n  };\r\n  respond.mediaQueriesSupported = w.matchMedia && w.matchMedia(\"only all\") !== null && w.matchMedia(\"only all\").matches;\r\n  if (respond.mediaQueriesSupported) {\r\n    return;\r\n  }\r\n  var doc = w.document, docElem = doc.documentElement, mediastyles = [], rules = [], appendedEls = [], parsedSheets = {}, resizeThrottle = 30, head = doc.getElementsByTagName(\"head\")[0] || docElem, base = doc.getElementsByTagName(\"base\")[0], links = head.getElementsByTagName(\"link\"), lastCall, resizeDefer, eminpx, getEmValue = function() {\r\n    var ret, div = doc.createElement(\"div\"), body = doc.body, originalHTMLFontSize = docElem.style.fontSize, originalBodyFontSize = body && body.style.fontSize, fakeUsed = false;\r\n    div.style.cssText = \"position:absolute;font-size:1em;width:1em\";\r\n    if (!body) {\r\n      body = fakeUsed = doc.createElement(\"body\");\r\n      body.style.background = \"none\";\r\n    }\r\n    docElem.style.fontSize = \"100%\";\r\n    body.style.fontSize = \"100%\";\r\n    body.appendChild(div);\r\n    if (fakeUsed) {\r\n      docElem.insertBefore(body, docElem.firstChild);\r\n    }\r\n    ret = div.offsetWidth;\r\n    if (fakeUsed) {\r\n      docElem.removeChild(body);\r\n    } else {\r\n      body.removeChild(div);\r\n    }\r\n    docElem.style.fontSize = originalHTMLFontSize;\r\n    if (originalBodyFontSize) {\r\n      body.style.fontSize = originalBodyFontSize;\r\n    }\r\n    ret = eminpx = parseFloat(ret);\r\n    return ret;\r\n  }, applyMedia = function(fromResize) {\r\n    var name = \"clientWidth\", docElemProp = docElem[name], currWidth = doc.compatMode === \"CSS1Compat\" && docElemProp || doc.body[name] || docElemProp, styleBlocks = {}, lastLink = links[links.length - 1], now = new Date().getTime();\r\n    if (fromResize && lastCall && now - lastCall < resizeThrottle) {\r\n      w.clearTimeout(resizeDefer);\r\n      resizeDefer = w.setTimeout(applyMedia, resizeThrottle);\r\n      return;\r\n    } else {\r\n      lastCall = now;\r\n    }\r\n    for (var i in mediastyles) {\r\n      if (mediastyles.hasOwnProperty(i)) {\r\n        var thisstyle = mediastyles[i], min = thisstyle.minw, max = thisstyle.maxw, minnull = min === null, maxnull = max === null, em = \"em\";\r\n        if (!!min) {\r\n          min = parseFloat(min) * (min.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\r\n        }\r\n        if (!!max) {\r\n          max = parseFloat(max) * (max.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\r\n        }\r\n        if (!thisstyle.hasquery || (!minnull || !maxnull) && (minnull || currWidth >= min) && (maxnull || currWidth <= max)) {\r\n          if (!styleBlocks[thisstyle.media]) {\r\n            styleBlocks[thisstyle.media] = [];\r\n          }\r\n          styleBlocks[thisstyle.media].push(rules[thisstyle.rules]);\r\n        }\r\n      }\r\n    }\r\n    for (var j in appendedEls) {\r\n      if (appendedEls.hasOwnProperty(j)) {\r\n        if (appendedEls[j] && appendedEls[j].parentNode === head) {\r\n          head.removeChild(appendedEls[j]);\r\n        }\r\n      }\r\n    }\r\n    appendedEls.length = 0;\r\n    for (var k in styleBlocks) {\r\n      if (styleBlocks.hasOwnProperty(k)) {\r\n        var ss = doc.createElement(\"style\"), css = styleBlocks[k].join(\"\\n\");\r\n        ss.type = \"text/css\";\r\n        ss.media = k;\r\n        head.insertBefore(ss, lastLink.nextSibling);\r\n        if (ss.styleSheet) {\r\n          ss.styleSheet.cssText = css;\r\n        } else {\r\n          ss.appendChild(doc.createTextNode(css));\r\n        }\r\n        appendedEls.push(ss);\r\n      }\r\n    }\r\n  }, translate = function(styles, href, media) {\r\n    var qs = styles.replace(respond.regex.keyframes, \"\").match(respond.regex.media), ql = qs && qs.length || 0;\r\n    href = href.substring(0, href.lastIndexOf(\"/\"));\r\n    var repUrls = function(css) {\r\n      return css.replace(respond.regex.urls, \"$1\" + href + \"$2$3\");\r\n    }, useMedia = !ql && media;\r\n    if (href.length) {\r\n      href += \"/\";\r\n    }\r\n    if (useMedia) {\r\n      ql = 1;\r\n    }\r\n    for (var i = 0; i < ql; i++) {\r\n      var fullq, thisq, eachq, eql;\r\n      if (useMedia) {\r\n        fullq = media;\r\n        rules.push(repUrls(styles));\r\n      } else {\r\n        fullq = qs[i].match(respond.regex.findStyles) && RegExp.$1;\r\n        rules.push(RegExp.$2 && repUrls(RegExp.$2));\r\n      }\r\n      eachq = fullq.split(\",\");\r\n      eql = eachq.length;\r\n      for (var j = 0; j < eql; j++) {\r\n        thisq = eachq[j];\r\n        mediastyles.push({\r\n          media: thisq.split(\"(\")[0].match(respond.regex.only) && RegExp.$2 || \"all\",\r\n          rules: rules.length - 1,\r\n          hasquery: thisq.indexOf(\"(\") > -1,\r\n          minw: thisq.match(respond.regex.minw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\"),\r\n          maxw: thisq.match(respond.regex.maxw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\")\r\n        });\r\n      }\r\n    }\r\n    applyMedia();\r\n  }, makeRequests = function() {\r\n    if (requestQueue.length) {\r\n      var thisRequest = requestQueue.shift();\r\n      ajax(thisRequest.href, function(styles) {\r\n        translate(styles, thisRequest.href, thisRequest.media);\r\n        parsedSheets[thisRequest.href] = true;\r\n        w.setTimeout(function() {\r\n          makeRequests();\r\n        }, 0);\r\n      });\r\n    }\r\n  }, ripCSS = function() {\r\n    for (var i = 0; i < links.length; i++) {\r\n      var sheet = links[i], href = sheet.href, media = sheet.media, isCSS = sheet.rel && sheet.rel.toLowerCase() === \"stylesheet\";\r\n      if (!!href && isCSS && !parsedSheets[href]) {\r\n        if (sheet.styleSheet && sheet.styleSheet.rawCssText) {\r\n          translate(sheet.styleSheet.rawCssText, href, media);\r\n          parsedSheets[href] = true;\r\n        } else {\r\n          if (!/^([a-zA-Z:]*\\/\\/)/.test(href) && !base || href.replace(RegExp.$1, \"\").split(\"/\")[0] === w.location.host) {\r\n            if (href.substring(0, 2) === \"//\") {\r\n              href = w.location.protocol + href;\r\n            }\r\n            requestQueue.push({\r\n              href: href,\r\n              media: media\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    makeRequests();\r\n  };\r\n  ripCSS();\r\n  respond.update = ripCSS;\r\n  respond.getEmValue = getEmValue;\r\n  function callMedia() {\r\n    applyMedia(true);\r\n  }\r\n  if (w.addEventListener) {\r\n    w.addEventListener(\"resize\", callMedia, false);\r\n  } else if (w.attachEvent) {\r\n    w.attachEvent(\"onresize\", callMedia);\r\n  }\r\n})(this);"]}